<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="é¢å‘å¯¹è±¡,ç»§æ‰¿,è®¾è®¡æ¨¡å¼,Getterå’ŒSetter" />








  <link rel="shortcut icon" type="image/x-icon" href="/uploads/favicon.ico?v=5.1.1" />






<meta name="description" content="æœ¬æ–‡å…±è®¡18100å­—ï¼Œä¸”æœ‰äº›ä¸æ˜“ç†è§£ï¼Œå»ºè®®å…ˆæ”¶è—ã€‚è½¬å‘è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼  1. ç†è§£å¯¹è±¡é¢å‘å¯¹è±¡ï¼ˆObject-Orientedï¼ŒOOï¼‰è¯­è¨€æœ‰ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡ç±»å¯ä»¥åˆ›å»ºä»»æ„å¤šä¸ªå…·æœ‰ç›¸åŒå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚ ECMA-262æŠŠå¯¹è±¡å®šä¹‰ä¸ºï¼šâ€œæ— åºå±æ€§çš„é›†åˆï¼Œå…¶å±æ€§å¯ä»¥åŒ…æ‹¬åŸºæœ¬å€¼ã€å¯¹è±¡æˆ–è€…å‡½æ•°ã€‚â€å³å¯¹è±¡æ˜¯ä¸€ç»„æ²¡æœ‰ç‰¹å®šé¡ºåºçš„å€¼ã€‚ 1.1 å±æ€§ç±»å‹ECMA-262ç¬¬5ç‰ˆåœ¨å®šä¹‰åªæœ‰å†…éƒ¨æ‰ç”¨çš„ç‰¹æ€§ï¼ˆattrib">
<meta name="keywords" content="é¢å‘å¯¹è±¡,ç»§æ‰¿,è®¾è®¡æ¨¡å¼,Getterå’ŒSetter">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿">
<meta property="og:url" content="https://linlif.github.io/2018/04/27/JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿/index.html">
<meta property="og:site_name" content="linlif-blog">
<meta property="og:description" content="æœ¬æ–‡å…±è®¡18100å­—ï¼Œä¸”æœ‰äº›ä¸æ˜“ç†è§£ï¼Œå»ºè®®å…ˆæ”¶è—ã€‚è½¬å‘è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼  1. ç†è§£å¯¹è±¡é¢å‘å¯¹è±¡ï¼ˆObject-Orientedï¼ŒOOï¼‰è¯­è¨€æœ‰ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡ç±»å¯ä»¥åˆ›å»ºä»»æ„å¤šä¸ªå…·æœ‰ç›¸åŒå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚ ECMA-262æŠŠå¯¹è±¡å®šä¹‰ä¸ºï¼šâ€œæ— åºå±æ€§çš„é›†åˆï¼Œå…¶å±æ€§å¯ä»¥åŒ…æ‹¬åŸºæœ¬å€¼ã€å¯¹è±¡æˆ–è€…å‡½æ•°ã€‚â€å³å¯¹è±¡æ˜¯ä¸€ç»„æ²¡æœ‰ç‰¹å®šé¡ºåºçš„å€¼ã€‚ 1.1 å±æ€§ç±»å‹ECMA-262ç¬¬5ç‰ˆåœ¨å®šä¹‰åªæœ‰å†…éƒ¨æ‰ç”¨çš„ç‰¹æ€§ï¼ˆattrib">
<meta property="og:image" content="https://lh3.googleusercontent.com/-syNpYy61Src/WuLqvsJ7yhI/AAAAAAAAAFo/PHJN_MDVaDE1pNIBOBpVwqNMSW4taTNPgCHMYCw/I/Person.png">
<meta property="og:image" content="https://lh3.googleusercontent.com/--xbWGVr9djo/WuLqwOGuNQI/AAAAAAAAAFs/4Y3GMIUmAnUdxctP237JPQQDZNdfbr4NgCHMYCw/I/%255BUNSET%255D">
<meta property="og:image" content="https://lh3.googleusercontent.com/-xnbTuW8yEbw/WuLqw39ZAqI/AAAAAAAAAFw/ntLXlF80IDY038UAP7YPVYSIu3Xz9EgngCHMYCw/I/%255BUNSET%255D">
<meta property="og:image" content="https://lh3.googleusercontent.com/-DYGpENQTcPY/WuLqxe2JeNI/AAAAAAAAAF0/cBiooJFDE4Ao0bkEsqi09-hMtVwq21hRQCHMYCw/I/%255BUNSET%255D">
<meta property="og:updated_time" content="2018-04-27T09:25:20.186Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿">
<meta name="twitter:description" content="æœ¬æ–‡å…±è®¡18100å­—ï¼Œä¸”æœ‰äº›ä¸æ˜“ç†è§£ï¼Œå»ºè®®å…ˆæ”¶è—ã€‚è½¬å‘è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼  1. ç†è§£å¯¹è±¡é¢å‘å¯¹è±¡ï¼ˆObject-Orientedï¼ŒOOï¼‰è¯­è¨€æœ‰ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡ç±»å¯ä»¥åˆ›å»ºä»»æ„å¤šä¸ªå…·æœ‰ç›¸åŒå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚ ECMA-262æŠŠå¯¹è±¡å®šä¹‰ä¸ºï¼šâ€œæ— åºå±æ€§çš„é›†åˆï¼Œå…¶å±æ€§å¯ä»¥åŒ…æ‹¬åŸºæœ¬å€¼ã€å¯¹è±¡æˆ–è€…å‡½æ•°ã€‚â€å³å¯¹è±¡æ˜¯ä¸€ç»„æ²¡æœ‰ç‰¹å®šé¡ºåºçš„å€¼ã€‚ 1.1 å±æ€§ç±»å‹ECMA-262ç¬¬5ç‰ˆåœ¨å®šä¹‰åªæœ‰å†…éƒ¨æ‰ç”¨çš„ç‰¹æ€§ï¼ˆattrib">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/-syNpYy61Src/WuLqvsJ7yhI/AAAAAAAAAFo/PHJN_MDVaDE1pNIBOBpVwqNMSW4taTNPgCHMYCw/I/Person.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://linlif.github.io/2018/04/27/JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿/"/>





  <title>JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿ | linlif-blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7f8eb2e0a2f9a4254c8e9cb312618c71";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">linlif-blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ä¸€ä¸ªæ²‰æ·€çŸ¥è¯†çš„åœ°æ–¹ï¼</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://linlif.github.io/2018/04/27/JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="linlif">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="linlif-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaScripté¢å‘å¯¹è±¡ä¸ç»§æ‰¿</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-27T17:17:06+08:00">
                2018-04-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webå‰ç«¯/" itemprop="url" rel="index">
                    <span itemprop="name">webå‰ç«¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>æœ¬æ–‡å…±è®¡18100å­—ï¼Œä¸”æœ‰äº›ä¸æ˜“ç†è§£ï¼Œå»ºè®®å…ˆæ”¶è—ã€‚è½¬å‘è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼</p>
</blockquote>
<h3 id="1-ç†è§£å¯¹è±¡"><a href="#1-ç†è§£å¯¹è±¡" class="headerlink" title="1. ç†è§£å¯¹è±¡"></a>1. ç†è§£å¯¹è±¡</h3><p>é¢å‘å¯¹è±¡ï¼ˆObject-Orientedï¼ŒOOï¼‰è¯­è¨€æœ‰ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡ç±»å¯ä»¥åˆ›å»ºä»»æ„å¤šä¸ªå…·æœ‰ç›¸åŒå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚</p>
<p>ECMA-262æŠŠå¯¹è±¡å®šä¹‰ä¸ºï¼šâ€œæ— åºå±æ€§çš„é›†åˆï¼Œå…¶å±æ€§å¯ä»¥åŒ…æ‹¬åŸºæœ¬å€¼ã€å¯¹è±¡æˆ–è€…å‡½æ•°ã€‚â€å³å¯¹è±¡æ˜¯ä¸€ç»„æ²¡æœ‰ç‰¹å®šé¡ºåºçš„å€¼ã€‚</p>
<h4 id="1-1-å±æ€§ç±»å‹"><a href="#1-1-å±æ€§ç±»å‹" class="headerlink" title="1.1 å±æ€§ç±»å‹"></a>1.1 å±æ€§ç±»å‹</h4><p>ECMA-262ç¬¬5ç‰ˆåœ¨å®šä¹‰åªæœ‰å†…éƒ¨æ‰ç”¨çš„ç‰¹æ€§ï¼ˆattributeï¼‰æ—¶ï¼Œæè¿°äº†å±æ€§ï¼ˆpropertyï¼‰çš„å„ç§ç‰¹å¾ã€‚ä¸ºäº†åŒºåˆ†ï¼Œè¯¥è§„èŒƒæŠŠè¡¨ç¤ºç‰¹æ€§çš„å†…éƒ¨å€¼æ”¾åœ¨ä¸¤å¯¹æ–¹æ‹¬å·ä¸­ã€‚ä¾‹å¦‚[[Enumerable]]ã€‚</p>
<p>ECMAScriptä¸­æœ‰ä¸¤ç§å±æ€§ï¼š<strong>æ•°æ®å±æ€§</strong>å’Œ<strong>è®¿é—®å™¨å±æ€§</strong></p>
<h5 id="1-1-1-æ•°æ®å±æ€§"><a href="#1-1-1-æ•°æ®å±æ€§" class="headerlink" title="1.1.1 æ•°æ®å±æ€§"></a>1.1.1 æ•°æ®å±æ€§</h5><p>æ•°æ®å±æ€§åŒ…æ‹¬ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®ã€‚åœ¨è¿™ä¸ªä½ç½®å¯ä»¥è¯»å–å’Œå†™å…¥å€¼ï¼Œæ•°æ®å±æ€§æœ‰å¦‚ä¸‹å››ä¸ªç‰¹å¾ï¼š</p>
<ul>
<li>[[Configurable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡deleteåˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚</li>
<li>[[Enumerable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡for-inå¾ªç¯è¿”å›å±æ€§ï¼ˆå³èƒ½å¦æšä¸¾ï¼‰ã€‚</li>
<li>[[Writable]]ï¼šè¡¨ç¤ºèƒ½å¦ä¿®æ”¹æ•°æ®çš„å€¼ã€‚</li>
<li>[[Value]]ï¼šåŒ…å«è¿™ä¸ªå±æ€§çš„å€¼ã€‚è¯»å–å±æ€§å€¼çš„æ—¶å€™ï¼Œä»è¿™ä¸ªä½ç½®è¯»å–ï¼Œå†™å…¥å±æ€§å€¼çš„æ—¶å€™ï¼ŒæŠŠå¿ƒçš„å€¼ä¿å­˜åœ¨è¿™ä¸ªä½ç½®ã€‚è¿™ä¸ªç‰¹æ€§çš„é»˜è®¤å€¼ä¸ºundefinedã€‚</li>
</ul>
<p>ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§ï¼Œä»–ä»¬çš„[[Configurable]]ã€[[Enumerable]]ã€[[Writable]]ç‰¹æ€§éƒ½è¢«è®¾ç½®ä¸ºtrueã€‚è€Œ[[Value]]ç‰¹æ€§è¢«è®¾ç½®ä¸ºæŒ‡å®šçš„å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªnameå±æ€§ï¼Œä»–çš„æŒ‡å®šå€¼ä¸ºâ€linlifâ€ï¼Œå³[[Value]]ç‰¹æ€§çš„å€¼è¢«è®¾ç½®ä¸ºâ€œlinlifâ€ï¼Œè€Œä¸”å¯¹è¿™ä¸ªå€¼çš„ä¿®æ”¹éƒ½ä¼šåæ˜ åœ¨[[Value]]ç‰¹æ€§ä¸Šã€‚</p>
<p>è¦ä¿®æ”¹å±æ€§é»˜è®¤çš„ç‰¹æ€§ï¼Œå¿…é¡»ä½¿ç”¨ECMAScript 5 çš„<code>Object.defineProperty()</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šå±æ€§æ‰€åœ¨å¯¹è±¡ï¼Œå±æ€§çš„åå­—å’Œä¸€ä¸ªæè¿°ç¬¦å¯¹è±¡ã€‚å…¶ä¸­ï¼Œæè¿°ç¬¦(descriptor)å¯¹è±¡å±æ€§å€¼å¿…é¡»æ˜¯ï¼š<code>configurable</code>ã€<code>enmuerable</code>ã€<code>writable</code>å’Œ<code>value</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// writableå±æ€§</span></div><div class="line"><span class="keyword">var</span> person = &#123;&#125;;</div><div class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</div><div class="line">    <span class="attr">writable</span>:<span class="literal">false</span>,</div><div class="line">    <span class="attr">value</span>:<span class="string">"linlif"</span></div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// "linlif"</span></div><div class="line">person.name = <span class="string">"jack"</span>; <span class="comment">// ä¿®æ”¹ä¸äº†ï¼Œå› ä¸ºwritableä¸ºfalseã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™é‡Œä¼šæŠ¥é”™ï¼</span></div><div class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// "linlif"</span></div><div class="line"></div><div class="line"><span class="comment">// configurableå±æ€§</span></div><div class="line"><span class="keyword">var</span> person = &#123;&#125;;</div><div class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</div><div class="line">    <span class="attr">configurable</span>:<span class="literal">false</span>, </div><div class="line">    <span class="attr">value</span>:<span class="string">"linlif"</span></div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// "linlif"</span></div><div class="line"><span class="keyword">delete</span> person.name; <span class="comment">// configurableä¸ºfalseï¼Œæ— æ³•åˆ é™¤ã€‚ä¸¥æ ¼æ¨¡å¼ä¼šæŠ¥é”™ï¼Œä¸”ä¸€æ—¦è®¾ç½®ä¸ºfalseå°±ä¸èƒ½å†è®¾ç½®ä¸ºtrueã€‚</span></div><div class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// "linlif"</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥å¤šæ¬¡è°ƒç”¨<code>Object.defineProperty()</code>æ–¹æ³•ä¿®æ”¹åŒä¸€ä¸ªå±æ€§ï¼Œä½†åœ¨æŠŠ<code>configurable</code>è®¾ç½®ä¸º<code>false</code>ä¹‹åå°±æœ‰äº†é™åˆ¶ã€‚å…·ä½“é™åˆ¶å°±æ˜¯ï¼šä¸èƒ½å†ä¿®æ”¹<code>configurable</code>ï¼Œå¯¹åº”çš„å±æ€§ä¹Ÿä¸èƒ½åˆ é™¤ã€‚åªèƒ½ä¿®æ”¹<code>writable</code>å±æ€§ã€‚</p>
<h5 id="1-1-2-è®¿é—®å…¶å±æ€§"><a href="#1-1-2-è®¿é—®å…¶å±æ€§" class="headerlink" title="1.1.2 è®¿é—®å…¶å±æ€§"></a>1.1.2 è®¿é—®å…¶å±æ€§</h5><p>è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ã€‚å®ƒä»¬åªæœ‰ä¸€å¯¹getterå’Œsetterå‡½æ•°ã€‚åœ¨è¯»å–è®¿é—®å™¨å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨getterå‡½æ•°ï¼›åœ¨å†™å…¥è®¿é—®å™¨å±æ€§æ—¶ä¼šè°ƒç”¨setterå‡½æ•°ã€‚</p>
<p>è®¿é—®å™¨å±æ€§æœ‰å¦‚ä¸‹4å±æ€§ï¼š</p>
<ul>
<li>[[Configurable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡deleteåˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºæ•°æ®å±æ€§ã€‚ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§ï¼Œè¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸ºtrueã€‚</li>
<li>[[Enumerable]]ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡for-inå¾ªç¯è¿”å›å±æ€§ã€‚å¯¹äºç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„ç‰¹æ€§é»˜è®¤å€¼ä¸ºtrueã€‚</li>
<li>[[Get]]ï¼šåœ¨è¯»å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤å€¼ä¸ºundefinedã€‚</li>
<li>[[Set]]ï¼šåœ¨å†™å…¥å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤å€¼ä¸ºundefinedã€‚ã€</li>
</ul>
<p>è®¿é—®å™¨å±æ€§å¿…é¡»é€šè¿‡<code>Object.defineProperty()</code>æ¥å®šä¹‰ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    <span class="attr">_name</span>: <span class="string">"no name"</span>,</div><div class="line">    <span class="attr">age</span>: <span class="number">25</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</div><div class="line">   <span class="attr">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._name;</div><div class="line">   &#125;,</div><div class="line">   <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newName</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> newName != <span class="string">'undefined'</span>)&#123;</div><div class="line">            <span class="keyword">this</span>._name = newName;</div><div class="line">        &#125;</div><div class="line">   &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">person.name = <span class="string">"linlif"</span>;</div><div class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// â€œlinlifâ€</span></div></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä¾‹å­ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªpersonå¯¹è±¡ï¼Œå¹¶å®šä¹‰äº†ä¸¤ä¸ªå±æ€§ï¼š_name å’Œ ageã€‚ _name å‰é¢çš„ä¸‹åˆ’çº¿æ˜¯ä¸€ç§å¸¸ç”¨çš„è®°å·ï¼Œè¡¨ç¤ºåªèƒ½é€šè¿‡å¯¹è±¡æ–¹æ³•è®¿é—®å…¶å±æ€§ã€‚è€Œè®¿é—®å™¨å±æ€§â€nameâ€œåˆ™å®šä¹‰äº†ä¸€ä¸ªgetterå‡½æ•°å’Œä¸€ä¸ªsetterå‡½æ•°ã€‚getterå‡½æ•°è¿”å›_nameçš„å€¼ï¼›setterå‡½æ•°ä¿®æ”¹_nameçš„å€¼ã€‚æŠŠnameä¿®æ”¹ä¸ºâ€linlifâ€œä¼šå¯¼è‡´_nameä¹Ÿå˜æˆâ€linlifâ€œã€‚è¿™å°±æ˜¯ä½¿ç”¨è®¿é—®å™¨å±æ€§çš„å¸¸è§æ–¹å¼ï¼Œå³è®¾ç½®ä¸€ä¸ªå±æ€§çš„å€¼ä¼šå¯¼è‡´å…¶ä»–å±æ€§å‘ç”Ÿå˜åŒ–ï¼ˆæ•°æ®çš„åŒå‘ç»‘å®šï¼Ÿï¼Ÿï¼‰ã€‚</p>
<p>å®ç°setterå’Œgetterå‡½æ•°çš„æµè§ˆå™¨æœ‰ï¼šIE9+(IE8åªæ˜¯éƒ¨åˆ†å®ç°)ã€Firefox 4+ã€Safari 5+ã€Opera 12+å’ŒChromeã€‚</p>
<h5 id="1-1-3-å®šä¹‰å¤šä¸ªå±æ€§"><a href="#1-1-3-å®šä¹‰å¤šä¸ªå±æ€§" class="headerlink" title="1.1.3 å®šä¹‰å¤šä¸ªå±æ€§"></a>1.1.3 å®šä¹‰å¤šä¸ªå±æ€§</h5><p>ç”±äºå¯¹è±¡å¤§å¤šæœ‰å¾ˆå¤šå±æ€§ï¼Œæ‰€ä»¥ECMAScript 5åˆå®šä¹‰äº†ä¸€ä¸ª<code>Object.defineProperties()</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¸€æ¬¡æ€§å®šä¹‰å¤šä¸ªå±æ€§ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå¯¹è±¡å‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡è¦æ·»åŠ å’Œä¿®æ”¹å…¶å±æ€§çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå¯¹è±¡çš„å±æ€§ä¸ç¬¬ä¸€ä¸ªå¯¹è±¡å±æ€§ä¸­è¦æ·»åŠ æˆ–ä¿®æ”¹çš„å±æ€§ä¸€ä¸€å¯¹åº”ã€‚æœ‰ç‚¹ç»•ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> book = &#123; <span class="comment">// è¦ä¿®æ”¹çš„å¯¹è±¡</span></div><div class="line">    _year:<span class="number">2018</span>,</div><div class="line">    <span class="attr">edition</span>:<span class="number">1</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperties(book,&#123;</div><div class="line">    <span class="attr">_year</span>:&#123;</div><div class="line">        <span class="attr">value</span>: <span class="number">2018</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">edition</span>:&#123;</div><div class="line">        <span class="attr">value</span>: <span class="number">1</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">year</span>:&#123;</div><div class="line">        <span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>._year;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(newVal);</div><div class="line">            <span class="keyword">if</span>(newVal &gt; <span class="number">2018</span>)&#123;</div><div class="line">                <span class="keyword">this</span>._year = newVal;</div><div class="line">                <span class="keyword">this</span>.edition += newVal - <span class="number">2018</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">book.year = <span class="number">2020</span>;</div><div class="line"><span class="built_in">console</span>.log(book.year); <span class="comment">// 2020</span></div><div class="line"><span class="built_in">console</span>.log(book.edition); <span class="comment">// 3</span></div></pre></td></tr></table></figure>
<p>æ”¯æŒ<code>Object.defineProperties()</code>æ–¹æ³•çš„æµè§ˆå™¨æœ‰ï¼šIE 9+ã€Firefox 4+ã€Safari 5+ã€Opera 12+å’ŒChromeã€‚</p>
<h5 id="1-1-4-è¯»å–å±æ€§çš„ç‰¹æ€§"><a href="#1-1-4-è¯»å–å±æ€§çš„ç‰¹æ€§" class="headerlink" title="1.1.4 è¯»å–å±æ€§çš„ç‰¹æ€§"></a>1.1.4 è¯»å–å±æ€§çš„ç‰¹æ€§</h5><p>ä½¿ç”¨ECMAScript 5çš„<code>Object.getOwnPropertyDescriptor()</code>æ–¹æ³•å¯ä»¥å–å¾—ç»™å®šå±æ€§çš„æè¿°ç¬¦ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå±æ€§æ‰€åœ¨çš„å¯¹è±¡å’Œè¦è¯»å–å…¶æè¿°ç¬¦çš„æ°‘ç²¹ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ˜¯è®¿é—®å™¨å±æ€§ï¼Œè¿™ä¸ªå¯¹è±¡çš„å±æ€§æœ‰configurableã€enumerableã€getã€setï¼›å¦‚æœæ˜¯æ•°æ®å±æ€§ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡çš„å±æ€§æœ‰ï¼šconfigurableã€enumerableã€writableå’Œvalueã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> book = &#123;&#125;;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperties(book,&#123;</div><div class="line">    <span class="attr">_year</span>:&#123;</div><div class="line">        <span class="attr">value</span>: <span class="number">2018</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">edition</span>:&#123;</div><div class="line">        <span class="attr">value</span>: <span class="number">1</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">year</span>:&#123;</div><div class="line">        <span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>._year;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(newVal);</div><div class="line">            <span class="keyword">if</span>(newVal &gt; <span class="number">2018</span>)&#123;</div><div class="line">                <span class="keyword">this</span>._year = newVal;</div><div class="line">                <span class="keyword">this</span>.edition += newVal - <span class="number">2018</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// è¾“å‡ºâ€_yearâ€œå±æ€§çš„ç‰¹æ€§</span></div><div class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book,<span class="string">"_year"</span>);</div><div class="line"><span class="built_in">console</span>.log(descriptor);</div><div class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</span></div><div class="line">&#123;</div><div class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">enumerable</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">value</span>: <span class="number">2018</span>,</div><div class="line">    <span class="attr">writable</span>: <span class="literal">false</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è¾“å‡ºâ€yearâ€œå±æ€§çš„ç‰¹æ€§</span></div><div class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(book,<span class="string">"year"</span>);</div><div class="line"><span class="built_in">console</span>.log(descriptor);</div><div class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</span></div><div class="line">&#123;</div><div class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">enumerable</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">get</span>: f(),</div><div class="line">    <span class="attr">writable</span>: f(newVal)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-åˆ›å»ºå¯¹è±¡"><a href="#2-åˆ›å»ºå¯¹è±¡" class="headerlink" title="2. åˆ›å»ºå¯¹è±¡"></a>2. åˆ›å»ºå¯¹è±¡</h3><p>åˆ›å»ºå¯¹è±¡çš„æ–¹å¼æœ‰ï¼šObjectæ„é€ å‡½æ•°å’Œå­—é¢é‡ä¸¤ç§æ–¹å¼ã€‚ä½†æ˜¯è¿™äº›æ–¹å¼éƒ½æ˜æ˜¾çš„ç¼ºç‚¹ï¼šä½¿ç”¨åŒä¸€ä¸ªæ¥å£åˆ›å»ºå¾ˆå¤šå¯¹è±¡ï¼Œä¼šäº§ç”Ÿå¤§é‡çš„é‡å¤ä»£ç ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäº§ç”Ÿäº†å¾ˆå¤šåˆ›å»ºå¯¹è±¡çš„æ–°æ–¹å¼ã€‚</p>
<h4 id="2-1-å·¥å‚æ¨¡å¼"><a href="#2-1-å·¥å‚æ¨¡å¼" class="headerlink" title="2.1 å·¥å‚æ¨¡å¼"></a>2.1 å·¥å‚æ¨¡å¼</h4><p>å·¥å‚æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­ä¸€ç§å¹¿ä¸ºäººçŸ¥çš„è®¾è®¡æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼æŠ½è±¡äº†åˆ›å»ºå…·ä½“å¯¹è±¡çš„è¿‡ç¨‹ã€‚ç”±äºECMAScriptæ— æ³•åˆ›å»ºç±»ï¼ˆES6ä»¥å‰ï¼‰ï¼Œæ‰€ä»¥å¼€å‘äººå‘˜å°±å‘æ˜äº†ä¸€ç§å‡½æ•°ï¼Œç”¨å‡½æ•°æ¥å°è£…ä»¥ç‰¹å®šæ¥å£åˆ›å»ºå¯¹è±¡çš„çš„ç»†èŠ‚ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name,age,job</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    o.name = name;</div><div class="line">    o.age = age;</div><div class="line">    o.job = job;</div><div class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = createPerson(<span class="string">"linlif"</span>,<span class="number">25</span>,<span class="string">"Web Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = createPerson(<span class="string">"jack"</span>,<span class="number">22</span>,<span class="string">"java Engineer"</span>);</div></pre></td></tr></table></figure>
<p>å·¥å‚æ¨¡å¼è™½ç„¶è§£å†³äº†åˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡çš„é—®é¢˜ï¼Œä½†å´æ²¡æœ‰è§£å†³å¯¹è±¡è¯†åˆ«çš„é—®é¢˜ï¼ˆå³å¦‚ä½•çŸ¥é“ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼‰ã€‚éšç€JavaScriptçš„å‘å±•ï¼Œæœ‰ä¸€ä¸ªæ–°çš„æ¨¡å¼å‡ºç°äº†ã€‚</p>
<h4 id="2-2-æ„é€ å‡½æ•°æ¨¡å¼"><a href="#2-2-æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="2.2 æ„é€ å‡½æ•°æ¨¡å¼"></a>2.2 æ„é€ å‡½æ•°æ¨¡å¼</h4><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒECMAScriptå­˜åœ¨ä¸€äº›åŸç”Ÿçš„æ„é€ å‡½æ•°ï¼Œä¾‹å¦‚Objectå’ŒArrayã€‚ä½¿ç”¨è¿™äº›æ„é€ å‡½æ•°å¯ä»¥åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä¾‹å­æ”¹å†™ä¸ºæ„é€ å‡½æ•°æ¨¡å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age  = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"linlif"</span>,<span class="number">25</span>,<span class="string">"Web Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"jack"</span>,<span class="number">22</span>,<span class="string">"java Engineer"</span>);</div><div class="line"></div><div class="line"><span class="comment">// erson1å’Œperson2åˆ†åˆ«ä¿å­˜ç€Personçš„ä¸€ä¸ªä¸åŒçš„å®ä¾‹ã€‚è¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªconstructorï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘Personã€‚</span></div><div class="line"><span class="built_in">console</span>.log(person1.constructor == Person); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(person2.constructor == Person); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Person()</code>å‡½æ•°å–ä»£äº†<code>createPerson()</code>å‡½æ•°ã€‚<code>Person()</code>å‡½æ•°çš„ä¸åŒä¹‹å¤„æœ‰ï¼š</p>
<ul>
<li>æ²¡æœ‰æ˜¾å¼åœ°åˆ›å»ºå¯¹è±¡ï¼›</li>
<li>ç›´æ¥å°†å±æ€§å’Œæ–¹æ³•èµ‹å€¼ç»™thiså¯¹è±¡ï¼›</li>
<li>æ²¡æœ‰returnè¯­å¥ã€‚</li>
<li>é¦–å­—æ¯å¤§å†™ã€‚</li>
<li>ä½¿ç”¨äº†newæ“ä½œç¬¦</li>
</ul>
<p>ä½¿ç”¨newæ“ä½œç¬¦åè·Ÿæ„é€ å‡½æ•°è¿™ç§æ–¹å¼åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šä¼šç»å†ä»¥ä¸‹4ä¸ªæ­¥éª¤ï¼š</p>
<blockquote>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼›</li>
<li>å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤thiså°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰ï¼›</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</li>
<li>è¿”å›æ–°å¯¹è±¡ã€‚</li>
</ol>
</blockquote>
<p>ä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼ï¼Œä¼šå°†å®ä¾‹æ ‡è¯†ä¸ºä¸€ç§ç‰¹å®šçš„ç±»å‹ã€‚è€Œè¿™æ­£æ˜¯æ„é€ å‡½æ•°èƒœè¿‡å·¥å‚æ¨¡å¼çš„åœ°æ–¹ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></div></pre></td></tr></table></figure>
<p><strong>æ„é€ å‡½æ•°çš„é—®é¢˜ï¼š</strong>æ¯ä¸ªæ–¹æ³•éƒ½è¦åœ¨æ¯ä¸ªå®ä¾‹ä¸Šé‡æ–°åˆ›å»ºä¸€éã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// sayNameè¢«é‡å¤åˆ›å»º</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age  = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">ç›¸å½“äº</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age  = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.sayName = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"console.log(this.name)"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"linlif"</span>,<span class="number">25</span>,<span class="string">"Web Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"jack"</span>,<span class="number">22</span>,<span class="string">"java Engineer"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person1.sayName === person2.sayName); <span class="comment">// false</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// å¯ä»¥å°†sayNameæ”¾åœ¨å¤–é¢ï¼Œä½†è¿™æ ·ç›¸å½“äºå…¨å±€è°ƒç”¨ï¼Œå¦‚æœæœ‰å¾ˆå¤šå¯¹è±¡ï¼Œé‚£ä¸æ˜¯è¦å®šä¹‰å¾ˆå¤šå…¨å±€æ–¹æ³•ï¼Ÿæ˜¾ç„¶ä¸è¡Œã€‚</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age  = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.sayName = sayName</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"linlif"</span>,<span class="number">25</span>,<span class="string">"Web Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"jack"</span>,<span class="number">22</span>,<span class="string">"java Engineer"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person1.sayName === person2.sayName);<span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼æ¥è§£å†³è¿™äº›é—®é¢˜ğŸ‘‡ã€‚</p>
<h4 id="2-3-åŸå‹æ¨¡å¼"><a href="#2-3-åŸå‹æ¨¡å¼" class="headerlink" title="2.3 åŸå‹æ¨¡å¼"></a>2.3 åŸå‹æ¨¡å¼</h4><p>åŸå‹å‡½æ•°æ¨¡å¼ï¼Œå°†æ‰€æœ‰æ–¹æ³•å’Œå±æ€§æ”¾åˆ°Personçš„prototypeå±æ€§ä¸­ï¼Œæ„é€ å‡½æ•°å˜æˆäº†ç©ºå‡½æ•°ã€‚ä½¿ç”¨åŸå‹æ¨¡å¼æ”¹é€ Personå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.sayName(); <span class="comment">// "linlif"</span></div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line">person2.sayName();<span class="comment">//"linlif"</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person1.sayName === person2.sayName); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™person1å’Œperson2è®¿é—®çš„æ˜¯åŒä¸€ç»„å±æ€§å’ŒåŒä¸€ä¸ªsayName()å‡½æ•°ã€‚</p>
<h5 id="2-3-1-ç†è§£åŸå‹å¯¹è±¡"><a href="#2-3-1-ç†è§£åŸå‹å¯¹è±¡" class="headerlink" title="2.3.1 ç†è§£åŸå‹å¯¹è±¡"></a>2.3.1 ç†è§£åŸå‹å¯¹è±¡</h5><p>æ— è®ºä½•æ—¶ï¼Œåªè¦åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå°±ä¼šæ ¹æ®ä¸€ç»„ç‰¹å®šçš„è§„åˆ™ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªprototypeå±æ€§ã€‚è¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å–ä¸€ä¸ªconstructorå±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆã€‚</p>
<p>æˆ‘ä»¬æ¥æ‹ä¸€æ‹ï¼Œä»å®šä¹‰æ„é€ å‡½æ•°åˆ°åˆ›å»ºå®Œå®ä¾‹è¿™ä¸ªè¿‡ç¨‹ï¼Œçœ‹çœ‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p>1ã€åˆ›å»ºè‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„prototypeå±æ€§å°±æŒ‡å‘å…¶åŸå‹å¯¹è±¡ï¼›<br>2ã€åŸå‹å¯¹è±¡é»˜è®¤å–å¾—constructorå±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«æŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼›<br>3ã€åŸå‹å¯¹è±¡é»˜è®¤åªæœ‰constructorå±æ€§ï¼Œå…¶ä»–å±æ€§è¦ä¹ˆæ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œè¦ä¹ˆæ˜¯ä»Objectç»§æ‰¿æ¥çš„ã€‚<br>4ã€è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹åï¼Œæ¯ä¸ªå®ä¾‹å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ECMAScript-262ç¬¬5ç‰ˆä¸­ï¼Œç®¡è¿™ä¸ªæŒ‡é’ˆå«[[Prototype]]ã€‚<br>5ã€åœ¨è„šæœ¬ä¸­æ²¡æœ‰æ ‡å‡†çš„è®¿é—®æ–¹å¼ï¼Œå¯ä»¥è®¿é—®è¿™ä¸ª[[Prototype]]ï¼Œä½†åœ¨Firefoxã€Safariå’ŒChromeåœ¨æ¯ä¸ªå¯¹è±¡ä¸­æ”¯æŒä¸€ä¸ªå±æ€§<code>_proto_</code>ï¼Œåœ¨å…¶ä»–æµè§ˆå™¨ä¸­ï¼Œè¿™ä¸ªå±æ€§æ˜¯å®Œå…¨ä¸å¯è§çš„ã€‚<br>6ã€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ª[[Prototype]]å±æ€§è¿æ¥çš„æ˜¯å®ä¾‹ä¸åŸå‹å¯¹è±¡ä¹‹é—´ï¼Œè€Œä¸æ˜¯å®ä¾‹ä¸æ„é€ å‡½æ•°ä¹‹é—´ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ä½¿ç”¨Personæ„é€ å‡½æ•°å’ŒPerson.prototypeåˆ›å»ºå®ä¾‹åï¼Œå„ä¸ªå¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚</p>
<p><img src="https://lh3.googleusercontent.com/-syNpYy61Src/WuLqvsJ7yhI/AAAAAAAAAFo/PHJN_MDVaDE1pNIBOBpVwqNMSW4taTNPgCHMYCw/I/Person.png" alt="Person"></p>
<h5 id="2-3-2-isPrototypeOf-æ–¹æ³•"><a href="#2-3-2-isPrototypeOf-æ–¹æ³•" class="headerlink" title="2.3.2 isPrototypeOf()æ–¹æ³•"></a>2.3.2 isPrototypeOf()æ–¹æ³•</h5><p>è™½ç„¶æ‰€æœ‰å®ç°éƒ½æ— æ³•è®¿é—®åˆ°[[Prototype]]ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨isPrototype()æ–¹æ³•æ¥ç¡®å®šå¯¹è±¡ä¹‹é—´æ˜¯å¦å­˜åœ¨è¿™ç§å…³ç³»ã€‚å¦‚æœ[[Prototype]]æŒ‡å‘è°ƒç”¨isPrototype()æ–¹æ³•çš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±è¿”å›trueã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.sayName(); <span class="comment">// "linlif"</span></div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line">person2.sayName();<span class="comment">//"linlif"</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(Person.prototype.isPrototypeOf(person1)); <span class="comment">// true;</span></div><div class="line"><span class="built_in">console</span>.log(Person.prototype.isPrototypeOf(person2)); <span class="comment">// true;</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œéƒ½è¿”å›äº†trueï¼Œè¯´æ˜person1å’Œperson2éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘Person.prototypeçš„æŒ‡é’ˆã€‚</p>
<h5 id="2-3-3-Object-getPrototypeOf-æ–¹æ³•"><a href="#2-3-3-Object-getPrototypeOf-æ–¹æ³•" class="headerlink" title="2.3.3 Object.getPrototypeOf()æ–¹æ³•"></a>2.3.3 Object.getPrototypeOf()æ–¹æ³•</h5><p>è¿™æ˜¯ECMAScriptæ–°å¢çš„ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›[[Prototype]]çš„å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.sayName(); <span class="comment">// "linlif"</span></div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line">person2.sayName();<span class="comment">//"linlif"</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(person1) == Person.prototype);<span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(person1).name); <span class="comment">// "linlif"</span></div></pre></td></tr></table></figure>
<p>ä½¿ç”¨Object.getPrototypeOf()æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å–å¾—ä¸€ä¸ªå®ä¾‹çš„åŸå‹ï¼Œè€Œè¿™åœ¨åˆ©ç”¨åŸå‹å®ç°ç»§æ‰¿çš„æƒ…å†µä¸‹æ˜¯éå¸¸é‡è¦çš„ã€‚æ”¯æŒè¿™ä¸ªæ–¹æ³•çš„æµè§ˆå™¨æœ‰IE 9+ã€Firefox 3.5+ã€Safari 5+ã€Opera 12+å’ŒChromeã€‚</p>
<p>æ¯å½“ä»£ç è¯»å–æŸä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æœç´¢ã€‚æœç´¢é¦–å…ˆä»å®ä¾‹æœ¬èº«å¼€å§‹ï¼Œå¦‚æœå®ä¾‹ä¸­æ‰¾åˆ°äº†åˆ™è¿”å›æ”¹å±æ€§çš„å€¼ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™ç»§ç»­å‘ä¸Šæœç´¢æŒ‡é’ˆæŒ‡å‘çš„åŸå‹å¯¹è±¡ï¼Œä¾æ­¤ç±»æ¨ï¼Œé¡ºç€åŸå‹é“¾ä¸€ç›´æ‰¾ï¼Œå¦‚æœæœ€åéƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›nullã€‚</p>
<p>å®ä¾‹å¯ä»¥è®¿é—®ä¿å­˜åœ¨åŸå‹ä¸­çš„å€¼ï¼Œä½†ä¸èƒ½é€šè¿‡å®ä¾‹é‡å†™åŸå‹ä¸­çš„å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line">person1.name = <span class="string">"Fred"</span>;</div><div class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">// "Fred" ---æ¥è‡ªå®ä¾‹</span></div><div class="line"><span class="built_in">console</span>.log(person2.name); <span class="comment">// "linlif" ---æ¥è‡ªåŸå‹</span></div><div class="line"></div><div class="line"><span class="comment">// åˆ é™¤å®ä¾‹ä¸Šçš„å±æ€§ï¼Œä¼šè‡ªåŠ¨æŸ¥æ‰¾åŸå‹ä¸Šçš„å±æ€§</span></div><div class="line"><span class="keyword">delete</span> person1.name;</div><div class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">// "linlif" ---æ¥è‡ªåŸå‹</span></div><div class="line"><span class="built_in">console</span>.log(person2.name); <span class="comment">// "linlif" ---æ¥è‡ªåŸå‹</span></div></pre></td></tr></table></figure>
<h5 id="2-3-4-hasOwnProperty-æ–¹æ³•"><a href="#2-3-4-hasOwnProperty-æ–¹æ³•" class="headerlink" title="2.3.4 hasOwnProperty()æ–¹æ³•"></a>2.3.4 hasOwnProperty()æ–¹æ³•</h5><p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ£€æµ‹ä¸€ä¸ªå±æ€§æ˜¯å­˜åœ¨äºå®ä¾‹ä¸­ï¼Œè¿˜æ˜¯å­˜åœ¨äºåŸå‹ä¸­ã€‚è¿™ä¸ªæ–¹æ³•ï¼ˆç»§æ‰¿è‡ªObjectï¼‰åªåœ¨ç»™å®šå±æ€§å­˜åœ¨äºå¯¹è±¡å®ä¾‹ä¸­æ—¶ï¼Œæ‰ä¼šè¿”å›trueã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person1.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// false ---æ¥è‡ªåŸå‹</span></div><div class="line">person1.name = <span class="string">"Gerk"</span>;</div><div class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">// "Gerk"</span></div><div class="line"><span class="built_in">console</span>.log(person1.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// true ---æ¥è‡ªå®ä¾‹</span></div><div class="line"></div><div class="line"><span class="keyword">delete</span> person1.name;</div><div class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">// "linlif"</span></div><div class="line"><span class="built_in">console</span>.log(person1.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// false ---æ¥è‡ªåŸå‹</span></div></pre></td></tr></table></figure>
<h5 id="2-3-5-åŸå‹ä¸inæ“ä½œç¬¦"><a href="#2-3-5-åŸå‹ä¸inæ“ä½œç¬¦" class="headerlink" title="2.3.5 åŸå‹ä¸inæ“ä½œç¬¦"></a>2.3.5 åŸå‹ä¸inæ“ä½œç¬¦</h5><p>æœ‰ä¸¤ç§æ–¹å¼ä½¿ç”¨inæ“ä½œç¬¦ï¼šå•ç‹¬ä½¿ç”¨å’Œåœ¨for-inå¾ªç¯ä¸­ä½¿ç”¨ã€‚å•ç‹¬ä½¿ç”¨æ—¶ï¼Œinæ“ä½œç¬¦ä¼šåœ¨é€šè¿‡å¯¹è±¡èƒ½å¤Ÿè®¿é—®ç»™å®šå±æ€§æ—¶è¿”å›trueï¼Œæ— è®ºè¯¥å±æ€§å­˜åœ¨äºå®ä¾‹è¿˜æ˜¯åŸå‹ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> person); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨for-in å¾ªç¯æ—¶ï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰èƒ½å¤Ÿé€šè¿‡å¯¹è±¡è®¿é—®çš„ï¼Œå¯æšä¸¾ï¼ˆenumeratedï¼‰å±æ€§ã€‚å±è”½äº†åŸå‹ä¸­ä¸å¯æšä¸¾å±æ€§ï¼ˆ[[enumerable]]æ ‡è®°ä¸ºfalseçš„å±æ€§ï¼‰çš„å®ä¾‹å±æ€§ä¹Ÿä¼šåœ¨for-in å¾ªç¯ä¸­è¿”å›ï¼Œå› ä¸ºæ ¹æ®è§„å®šï¼Œæ‰€æœ‰å¼€å‘äººå‘˜è‡ªå®šä¹‰çš„å±æ€§éƒ½æ˜¯å¯æšä¸¾çš„â€”â€”åªæœ‰åœ¨IE8åŠæ›´æ—©ç‰ˆæœ¬ä¸­ä¾‹å¤–ã€‚</p>
<h5 id="2-3-6-Object-keys-æ–¹æ³•"><a href="#2-3-6-Object-keys-æ–¹æ³•" class="headerlink" title="2.3.6 Object.keys()æ–¹æ³•"></a>2.3.6 Object.keys()æ–¹æ³•</h5><p>è¦å–å¾—å¯¹è±¡ä¸Šæ‰€æœ‰å¯æšä¸¾çš„å®ä¾‹å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ES6çš„Object.keys()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(Person.prototype);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(keys); <span class="comment">// Â ["name", "age", "job", "sayName"]</span></div></pre></td></tr></table></figure>
<h5 id="2-3-7-Object-getOwnPropertyNames-æ–¹æ³•"><a href="#2-3-7-Object-getOwnPropertyNames-æ–¹æ³•" class="headerlink" title="2.3.7 Object.getOwnPropertyNames()æ–¹æ³•"></a>2.3.7 Object.getOwnPropertyNames()æ–¹æ³•</h5><p>å¦‚æœæƒ³è¦å¾—åˆ°æ‰€æœ‰å®ä¾‹å±æ€§ï¼Œæ— è®ºå®ƒæ˜¯å¦å¯æšä¸¾ï¼Œå¯ä»¥ä½¿ç”¨Object.getOwnPropertyNames()æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype.name = <span class="string">"linlif"</span>;</div><div class="line">Person.prototype.age = <span class="number">29</span>;</div><div class="line">Person.prototype.job = <span class="string">"coder"</span>;</div><div class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.getOwnPropertyNames(Person.prototype);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(keys); <span class="comment">// ["constructor", "name", "age", "job", "sayName"]</span></div></pre></td></tr></table></figure>
<p>æ”¯æŒè¿™ä¸ªæ–¹æ³•çš„æµè§ˆå™¨æœ‰IE9+ã€Firefox 4+ã€Safari 5+ã€Opera12+ å’Œ Chromeã€‚</p>
<h5 id="2-3-8-æ›´ç®€å•çš„åŸå‹è¯­æ³•"><a href="#2-3-8-æ›´ç®€å•çš„åŸå‹è¯­æ³•" class="headerlink" title="2.3.8 æ›´ç®€å•çš„åŸå‹è¯­æ³•"></a>2.3.8 æ›´ç®€å•çš„åŸå‹è¯­æ³•</h5><p>å‰é¢çš„ä¾‹å­ä¸­ï¼Œæ¯æ·»åŠ ä¸€ä¸ªå±æ€§å’Œæ–¹æ³•å°±è¦æ•²ä¸€éPerson.prototypeã€‚ä¸ºäº†å‡å°‘ä¸å¿…è¦çš„è¾“å…¥ï¼Œä¹Ÿä¸ºäº†è§†è§‰ä¸Šæ›´å¥½çš„å°è£…åŸå‹çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨å¯¹è±¡å­—é¢é‡çš„å†™æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•ï¼Œæœ¬è´¨ä¸Šå·²ç»å®Œå…¨é‡å†™äº†prototypeå¯¹è±¡ï¼Œå› æ­¤ constructorå±æ€§å˜æˆäº†æ–°å¯¹è±¡çš„constructorå±æ€§ï¼ˆæŒ‡å‘Objectæ„é€ å‡½æ•°ï¼‰ï¼Œä¸å†æŒ‡å‘Personæ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> man = <span class="keyword">new</span> Person();</div><div class="line"><span class="built_in">console</span>.log(man <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(man <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(man.constructor === <span class="built_in">Object</span>); <span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(man.constructor === Person); <span class="comment">//fasle</span></div></pre></td></tr></table></figure>
<p>å¦‚æœconstructorç‰¹åˆ«æ˜¯å¿…é¡»çš„ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æŒ‡å®šå›é€‚å½“çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span>:Person,</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> man = <span class="keyword">new</span> Person();</div><div class="line"><span class="built_in">console</span>.log(man <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(man <span class="keyword">instanceof</span> Person); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(man.constructor === <span class="built_in">Object</span>); <span class="comment">//false</span></div><div class="line"><span class="built_in">console</span>.log(man.constructor === Person); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p><em>æ³¨æ„ï¼šè¿™ç§æ‰‹åŠ¨ç»‘å®šæ„é€ å‡½æ•°ï¼Œä¼šä½¿constructorå±æ€§çš„[[enumerable]]ç‰¹æ€§è¢«è®¾ç½®ä¸ºtrueï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒåŸç”Ÿçš„constructoræ˜¯ä¸å¯æšä¸¾çš„ã€‚</em></p>
<p>å¦‚æœä¸è€ƒè™‘ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œå¯ä»¥ä½¿ç”¨Object.defineProperty()æ‰‹åŠ¨å°†[[enumerable]]ç‰¹æ€§è®¾ç½®ä¸ºfalseã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// é‡è®¾æ„é€ å‡½æ•°ï¼Œåªé€‚ç”¨äºæ”¯æŒES6çš„æµè§ˆå™¨</span></div><div class="line"><span class="built_in">Object</span>.defineProperty(Person.prototype,<span class="string">"constructor"</span>,&#123;</div><div class="line">    <span class="attr">enumerable</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">value</span>: Person</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h5 id="2-3-9-åŸå‹çš„åŠ¨æ€æ€§"><a href="#2-3-9-åŸå‹çš„åŠ¨æ€æ€§" class="headerlink" title="2.3.9 åŸå‹çš„åŠ¨æ€æ€§"></a>2.3.9 åŸå‹çš„åŠ¨æ€æ€§</h5><p>ç”±äºåŸå‹ä¸­æŸ¥æ‰¾å€¼çš„è¿‡ç¨‹æ˜¯ä¸€æ¬¡æœç´¢ï¼Œå› æ­¤æˆ‘ä»¬å¯¹åŸå‹å¯¹è±¡ä¸Šæ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½èƒ½å¤Ÿç«‹å³ä»å®ä¾‹ä¸Šåæ˜ å‡ºæ¥ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å…ˆåˆ›å»ºå®ä¾‹</span></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person();</div><div class="line"><span class="comment">// å†åœ¨åŸå‹ä¸Šå¢åŠ æ–¹æ³•</span></div><div class="line">Person.prototype.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"hi"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// ä¸€æ ·å¯ä»¥è¿è¡Œ</span></div><div class="line">friend.sayHi(); <span class="comment">// "hi"</span></div></pre></td></tr></table></figure>
<p>å°½ç®¡å¯ä»¥éšæ—¶å¾€åŸå‹ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”ä¿®æ”¹èƒ½å¤Ÿç«‹å³åœ¨å®ä¾‹ä¸­åæ˜ å‡ºæ¥ã€‚ä½†æ˜¯å¦‚æœæ˜¯é‡å†™äº†æ•´ä¸ªåŸå‹å¯¹è±¡ï¼Œé‚£å°±ä¸ä¸€æ ·äº†ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå®ä¾‹ä¸Šçš„[[Prototype]]æŒ‡é’ˆï¼Œä»…æŒ‡å‘åŸå‹ï¼Œè€Œä¸æ˜¯æŒ‡å‘æ„é€ å‡½æ•°ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"><span class="comment">// å…ˆåˆ›å»ºå®ä¾‹</span></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person();</div><div class="line"><span class="comment">// é‡å†™prototypeï¼ˆä½¿ç”¨å­—é¢é‡å°±æ˜¯é‡å†™ï¼‰</span></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span>:Person,</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">friend.sayName(); <span class="comment">// æŠ¥é”™ï¼</span></div></pre></td></tr></table></figure>
<p>åŸå‹æ¨¡å¼çš„ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ‰€æœ‰å®ä¾‹åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½å°†å–å¾—ç›¸åŒçš„å±æ€§å€¼ã€‚</li>
<li>åŸå‹ä¸­æ‰€æœ‰å±æ€§è¢«å¾ˆå¤šå®ä¾‹å…±äº«ï¼Œè¿™å¯¹äºé‚£äº›åŒ…å«åŸºæœ¬å€¼çš„å±æ€§å€’è¿˜å¥½ï¼Œå¯¹äºå¼•ç”¨ç±»å‹å€¼çš„å±æ€§æ¥è¯´ï¼Œé—®é¢˜å°±æ¯”è¾ƒçªå‡ºäº†ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"><span class="comment">// å…ˆåˆ›å»ºå®ä¾‹</span></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person();</div><div class="line"><span class="comment">// é‡å†™prototypeï¼ˆä½¿ç”¨å­—é¢é‡å°±æ˜¯é‡å†™ï¼‰</span></div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span>:Person,</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">29</span>,</div><div class="line">    <span class="attr">job</span>:<span class="string">"coder"</span>,</div><div class="line">    <span class="attr">friends</span>:[<span class="string">"jack"</span>,<span class="string">"HeBe"</span>],</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line">person1.friends.push(<span class="string">"seporna"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person1.friends); <span class="comment">// ["jack", "HeBe", "seporna"]</span></div><div class="line"><span class="built_in">console</span>.log(person2.friends); <span class="comment">// ["jack", "HeBe", "seporna"]</span></div><div class="line"><span class="built_in">console</span>.log(person1.friends === person2.friends); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h4 id="2-4-ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼"><a href="#2-4-ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼" class="headerlink" title="2.4 ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼"></a>2.4 ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼</h4><p>è¿™ç§ç»„åˆæ¨¡å¼æ˜¯ç›®å‰åº”ç”¨æœ€å¹¿æ³›ï¼Œè®¤å¯åº¦æœ€é«˜çš„ä¸€ç§åˆ›å»ºè‡ªå®šä¹‰ç±»å‹çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•å°†æ„é€ å‡½æ•°æ¨¡å¼ç”¨äºå®šä¹‰å®ä¾‹å±æ€§ï¼Œè€ŒåŸå‹æ¨¡å¼ç”¨äºå®šä¹‰æ–¹æ³•å’Œå…±äº«çš„å±æ€§ã€‚è¿™ç§æ¨¡å¼è¿˜æ”¯æŒä¼ å…¥å‚æ•°ï¼Œçµæ´»åº¦è¾ƒé«˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="keyword">this</span>.friends = [<span class="string">"jack"</span>, <span class="string">"HeBe"</span>];</div><div class="line">&#125;</div><div class="line">Person.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span>: Person,</div><div class="line">    <span class="attr">sayName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"linlif"</span>,<span class="number">29</span>,<span class="string">"coder"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Fred"</span>,<span class="number">24</span>,<span class="string">"Android Engineer"</span>);</div><div class="line"></div><div class="line">person1.friends.push(<span class="string">"seporna"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person1.friends); <span class="comment">// ["jack", "HeBe", "seporna"]</span></div><div class="line"><span class="built_in">console</span>.log(person2.friends); <span class="comment">// ["jack", "HeBe"]</span></div><div class="line"><span class="built_in">console</span>.log(person1.friends === person2.friends); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(person1.sayName === person2.sayName); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h4 id="2-5-åŠ¨æ€åŸå‹æ¨¡å¼"><a href="#2-5-åŠ¨æ€åŸå‹æ¨¡å¼" class="headerlink" title="2.5 åŠ¨æ€åŸå‹æ¨¡å¼"></a>2.5 åŠ¨æ€åŸå‹æ¨¡å¼</h4><p>æœ‰å…¶ä»–OOè¯­è¨€ç»éªŒçš„å¼€å‘äººå‘˜åœ¨çœ‹ç‹¬ç«‹çš„æ„é€ å‡½æ•°å’ŒåŸå‹æ—¶ï¼Œå¾ˆå¯èƒ½ä¼šæ„Ÿåˆ°éå¸¸å›°æƒ‘ã€‚åŠ¨æ€åŸå‹æ¨¡å¼æ­£æ˜¯è‡´åŠ›äºè§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªæ–¹æ¡ˆã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="comment">// å±æ€§</span></div><div class="line">      <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.job = job;</div><div class="line">    <span class="comment">// æ–¹æ³•</span></div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span>.sayName != <span class="string">"function"</span>)&#123;</div><div class="line">        Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person(<span class="string">"linlif"</span>,<span class="number">29</span>,<span class="string">"coder"</span>);</div><div class="line">friend.sayName(); <span class="comment">// "linlif"</span></div></pre></td></tr></table></figure>
<p>æ³¨æ„ä¸Šé¢çš„ä¾‹å­ï¼Œæ–¹æ³•å®šä¹‰é‚£é‡Œï¼Œåªè¦åœ¨sayName()æ–¹æ³•ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šå°†å®ƒæ·»åŠ åˆ°åŸå‹é“¾ä¸­ã€‚è¿™æ®µä»£ç åªä¼šåœ¨åˆæ¬¡è°ƒç”¨æ„é€ å‡½æ•°æ—¶æ‰ä¼šæ‰§è¡Œã€‚æ­¤åï¼ŒåŸå‹å·²ç»å®Œæˆåˆå§‹åŒ–ï¼Œä¸éœ€è¦å†åšä¿®æ”¹äº†ã€‚ä¸è¿‡è¦æ³¨æ„ï¼Œè¿™é‡Œå¯¹åŸå‹çš„æ›´æ”¹ï¼Œä¼šç«‹å³åæ˜ åˆ°æ‰€æœ‰å®ä¾‹ä¸­ã€‚å› æ­¤è¿™ç§æ–¹æ³•å¯ä»¥è¯´éå¸¸å®Œç¾äº†ï¼</p>
<h4 id="2-6-å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼"><a href="#2-6-å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="2.6 å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼"></a>2.6 å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼</h4><p>è¿™ç§æ¨¡å¼çš„åŸºæœ¬æ€æƒ³æ˜¯åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨ä»…ä»…æ˜¯å°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ï¼Œç„¶åå†è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚ä½†æ˜¯ä»è¡¨é¢ä¸Šçœ‹ï¼Œè¿™ä¸ªå‡½æ•°åˆå¾ˆåƒæ˜¯å…¸å‹çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    o.name = name;</div><div class="line">    o.age = age;</div><div class="line">    o.job = job;</div><div class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person(<span class="string">"linlif"</span>, <span class="number">29</span>, <span class="string">"coder"</span>);</div><div class="line">friend.sayName(); <span class="comment">// "linlif"</span></div></pre></td></tr></table></figure>
<p>é™¤äº†ä½¿ç”¨newæ“ä½œç¬¦å¹¶æŠŠä½¿ç”¨çš„åŒ…è£…å‡½æ•°å«åšæ„é€ å‡½æ•°ä¹‹å¤–ï¼Œè¿™ä¸ªæ¨¡å¼è·Ÿå·¥å‚æ¨¡å¼å…¶å®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
<p>è¿™ä¸ªæ¨¡å¼å¯ä»¥ç”¨æ¥ä¸ºå¯¹è±¡åˆ›å»ºæ„é€ å‡½æ•°ï¼Œå¯ä»¥æ‰©å±•åŸºç¡€çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼šArrayï¼‰çš„åŠŸèƒ½ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SpecialArray</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// åˆ›å»ºæ•°ç»„</span></div><div class="line">    <span class="keyword">var</span> values = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">    </div><div class="line">    <span class="comment">// ä¸ºæ•°ç»„æ·»åŠ å€¼</span></div><div class="line">    values.push.apply(values, <span class="built_in">arguments</span>);</div><div class="line">    </div><div class="line">    <span class="comment">// æ·»åŠ æ–¹æ³•</span></div><div class="line">    values.toPipeString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.join(<span class="string">"|"</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// è¿”å›æ•°ç»„</span></div><div class="line">    <span class="keyword">return</span> values;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> SpecialArray(<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>);</div><div class="line"><span class="built_in">console</span>.log(colors.toPipeString()); <span class="comment">// "red|green|blue"</span></div></pre></td></tr></table></figure>
<p>å¯„ç”Ÿæ¨¡å¼çš„é—®é¢˜ï¼šä½¿ç”¨è¿™ç§æ¨¡å¼åˆ›å»ºçš„å¯¹è±¡ä¸æ„é€ å‡½æ•°æˆ–è€…æ„é€ å‡½æ•°çš„åŸå‹å±æ€§ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸æ„é€ å‡½æ•°å¤–éƒ¨è‡ªå·±åˆ›å»ºçš„å¯¹è±¡æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚å› æ­¤ï¼Œä¸èƒ½æŒ‡æœ›é€šè¿‡instanceofæ“ä½œç¬¦æ¥ç¡®å®šå¯¹è±¡ç±»å‹ã€‚</p>
<p>ç”±äºå­˜åœ¨ä¸Šé¢çš„é—®é¢˜ï¼Œå¦‚æœå¯ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å¼ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚</p>
<h4 id="2-7-ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼"><a href="#2-7-ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="2.7 ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼"></a>2.7 ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼</h4><blockquote>
<p>é“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹å¾·ï¼ˆDouglas Crockfordï¼‰å‘æ˜äº†JavaScriptä¸­çš„ç¨³å¦¥å¯¹è±¡ï¼ˆdurable objectï¼‰è¿™ä¸ªæ¦‚å¿µã€‚æ‰€è°“ç¨³å¦¥å¯¹è±¡ï¼ŒæŒ‡çš„æ˜¯æ²¡æœ‰å…¬å…±å±æ€§ï¼Œè€Œä¸”å…¶æ–¹æ³•ä¹Ÿä¸å¼•ç”¨thisçš„å¯¹è±¡ã€‚ç¨³å¦¥å¯¹è±¡æœ€é€‚åˆåœ¨ä¸€äº›å®‰å…¨ç¯å¢ƒä¸­ï¼ˆç¦æ­¢ä½¿ç”¨thiså’Œnewï¼‰ï¼Œæˆ–è€…é˜²æ­¢æ•°æ®è¢«å…¶ä»–åº”ç”¨ç¨‹åºæ”¹åŠ¨æ—¶ä½¿ç”¨ã€‚</p>
</blockquote>
<p>ç¨³å¦¥æ„é€ å‡½æ•°ä¸å¯„ç”Ÿæ¨¡å¼ç±»ä¼¼ï¼Œä½†æœ‰ä¸¤ç‚¹ä¸åŒï¼šä¸€æ˜¯åˆ›å»ºå¯¹è±¡çš„å®ä¾‹æ–¹æ³•ä¸å¼•ç”¨thisï¼›äºŒæ˜¯ä¸ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>)</span>&#123;</div><div class="line">    <span class="comment">// åˆ›å»ºè¦è¿”å›çš„å¯¹è±¡</span></div><div class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    <span class="comment">// å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰ç§æœ‰å˜é‡å’Œå‡½æ•°</span></div><div class="line">    </div><div class="line">    <span class="comment">// æ·»åŠ æ–¹æ³•</span></div><div class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(name);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> o;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// é™¤äº†sayName()æ²¡æœ‰å…¶ä»–åŠæ³•è®¿é—®nameçš„å€¼ã€‚å¯ä»¥åƒä¸‹é¢ä½¿ç”¨ç¨³å¦¥çš„Personæ„é€ å‡½æ•°ã€‚</span></div><div class="line"><span class="keyword">var</span> person = Person(<span class="string">"linlif"</span>,<span class="number">29</span>,<span class="string">"coder"</span>);</div><div class="line"></div><div class="line">person.sayName(); <span class="comment">// "linlif"</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œå˜é‡personä¸­ä¿å­˜çš„æ˜¯ä¸€ä¸ªç¨³å¦¥å˜é‡ï¼Œé™¤äº†è°ƒç”¨sayName()æ–¹æ³•å¤–ï¼Œæ²¡æœ‰åˆ«çš„æ–¹å¼å¯ä»¥è®¿é—®å…¶æ•°æ®æˆå‘˜ã€‚å³ä½¿æœ‰å…¶ä»–é»›çœ‰å±±ä¼šç»™è¿™ä¸ªå¯¹è±¡æ·»åŠ æ–¹æ³•æˆ–æ•°æ®æˆå‘˜ï¼Œä½†ä¹Ÿä¸å¯èƒ½æœ‰åˆ«çš„åŠæ³•è®¿é—®ä¼ å…¥åˆ°æ„é€ å‡½æ•°ä¸­çš„åŸå§‹æ•°æ®ã€‚</p>
<h3 id="3-ç»§æ‰¿"><a href="#3-ç»§æ‰¿" class="headerlink" title="3. ç»§æ‰¿"></a>3. ç»§æ‰¿</h3><h4 id="3-1-åŸå‹é“¾"><a href="#3-1-åŸå‹é“¾" class="headerlink" title="3.1 åŸå‹é“¾"></a>3.1 åŸå‹é“¾</h4><blockquote>
<p>ECMAScriptä¸­æè¿°äº†åŸå‹é“¾çš„æ¦‚å¿µï¼Œå¹¶å°†åŸå‹é“¾ä½œä¸ºå®ç°ç»§æ‰¿çš„ä¸»è¦æ–¹æ³•ã€‚</p>
</blockquote>
<p>åŸå‹é“¾ç»§æ‰¿çš„åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨åŸå‹è®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œæ¯ä¸ªåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œæ¯ä¸ªå®ä¾‹åˆåŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆã€‚</p>
<p>åŸå‹é“¾çš„å®ç°è¿‡ç¨‹ï¼šè®©å­ç±»çš„åŸå‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ã€‚æ­¤æ—¶ï¼Œå­ç±»åŒ…å«ä¸€ä¸ªæŒ‡å‘çˆ¶ç±»åŸå‹çš„æŒ‡é’ˆã€‚å¦‚æœå­ç±»è¿˜æœ‰å­ç±»ï¼Œåˆ™ç»§ç»­æ‰§è¡Œä¸Šè¿°è¿‡ç¨‹ã€‚è¿™æ ·ä¸‹æ¥å°±æ„æˆäº†å®ä¾‹ä¸åŸå‹çš„é“¾æ¡ã€‚è¿™å°±æ˜¯åŸå‹é“¾çš„åŸºæœ¬æ¦‚å¿µã€‚</p>
<p>ä¸€èµ·çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// çˆ¶ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SupperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.property = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SupperType.prototype.getSupperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.subProperty = <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹</span></div><div class="line">SubType.prototype = <span class="keyword">new</span> SupperType();</div><div class="line"><span class="comment">// å­ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SubType.prototype.getSubValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subProperty;</div><div class="line">&#125;</div><div class="line"><span class="comment">// åˆ›å»ºå­ç±»çš„å®ä¾‹</span></div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</div><div class="line"><span class="comment">// å­ç±»å®ä¾‹è°ƒç”¨çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line"><span class="built_in">console</span>.log(instance.getSupperValue()); <span class="comment">// true è°ƒç”¨æˆåŠŸï¼Œè¯´æ˜å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</span></div><div class="line"><span class="built_in">console</span>.log(instance.property); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(instance.subProperty); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(instance.getSubValue()); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­SupperTypeã€SubTypeå’Œinstanceä¹‹é—´ä¸ªå…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://lh3.googleusercontent.com/--xbWGVr9djo/WuLqwOGuNQI/AAAAAAAAAFs/4Y3GMIUmAnUdxctP237JPQQDZNdfbr4NgCHMYCw/I/%255BUNSET%255D" alt="åŸå‹é“¾ç»§æ‰¿"></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šinstanceçš„constructoræŒ‡å‘çš„æ˜¯superTypeï¼Œè¿™æ˜¯å› ä¸ºåŸæ¥çš„SubType.prototypeä¸­çš„constructorè¢«é‡å†™çš„ç¼˜æ•…ï¼ˆå…¶å®ä¸æ˜¯é‡å†™ï¼Œè€Œæ˜¯SubTypeçš„åŸå‹æŒ‡å‘äº†SuperTypeçš„åŸå‹ï¼Œè€Œè¿™ä¸ªåŸå‹å¯¹è±¡çš„constructorå±æ€§æŒ‡å‘çš„æ•°SuperTypeï¼‰ã€‚</p>
<p>å…¶å®ï¼Œä¸Šé¢çš„åŸå‹é“¾å°‘äº†ä¸€ç¯ã€‚å› ä¸ºæ‰€æœ‰å¼•ç”¨ç±»å‹éƒ½é»˜è®¤ç»§æ‰¿äº†Objectï¼Œè€Œè¿™ä¸ªç»§æ‰¿ä¹Ÿæ˜¯é€šè¿‡åŸå‹é“¾å®ç°çš„ã€‚æ‰€ä»¥ï¼Œå®Œæ•´çš„åŸå‹é“¾åº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://lh3.googleusercontent.com/-xnbTuW8yEbw/WuLqw39ZAqI/AAAAAAAAAFw/ntLXlF80IDY038UAP7YPVYSIu3Xz9EgngCHMYCw/I/%255BUNSET%255D" alt="å®Œæ•´åŸå‹é“¾"></p>
<h5 id="3-1-1-ç¡®å®šåŸå‹ä¸å®ä¾‹çš„å…³ç³»"><a href="#3-1-1-ç¡®å®šåŸå‹ä¸å®ä¾‹çš„å…³ç³»" class="headerlink" title="3.1.1 ç¡®å®šåŸå‹ä¸å®ä¾‹çš„å…³ç³»"></a>3.1.1 ç¡®å®šåŸå‹ä¸å®ä¾‹çš„å…³ç³»</h5><p>æœ‰ä¸¤ç§æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯ä½¿ç”¨instanceofæ“ä½œç¬¦ã€‚åªè¦ç”¨è¿™ä¸ªæ“ä½œç¬¦æµ‹è¯•å®ä¾‹ä¸åŸå‹é“¾ä¸­å‡ºç°è¿‡çš„æ„é€ å‡½æ•°ï¼Œç»“æœéƒ½æ˜¯trueã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// çˆ¶ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SupperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.property = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SupperType.prototype.getSupperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.subProperty = <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹</span></div><div class="line">SubType.prototype = <span class="keyword">new</span> SupperType();</div><div class="line"><span class="comment">// å­ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SubType.prototype.getSubValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subProperty;</div><div class="line">&#125;</div><div class="line"><span class="comment">// åˆ›å»ºå­ç±»çš„å®ä¾‹</span></div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</div><div class="line"></div><div class="line"><span class="comment">// æµ‹è¯•instanceofæ“ä½œç¬¦</span></div><div class="line"><span class="built_in">console</span>.log(instance <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(instance <span class="keyword">instanceof</span> SupperType); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(instance <span class="keyword">instanceof</span> SubType); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>ç”±äºåŸå‹é“¾çš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥è¯´instanceæ˜¯Objectã€SupperTypeæˆ–SubTypeä¸­çš„ä»»ä½•ä¸€ä¸ªç±»å‹çš„å®ä¾‹ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨<code>isPrototypeOf()</code>æ–¹æ³•ã€‚åŒæ ·çš„ï¼Œåªè¦åŸå‹é“¾ä¸­å‡ºç°è¿‡çš„åŸå‹ï¼Œéƒ½å¯ä»¥è¯´æ˜¯è¯¥åŸå‹é“¾ä¸Šçš„å®ä¾‹çš„åŸå‹ã€‚å› æ­¤è¿™ä¸ªæ–¹æ³•ä¹Ÿä¼šè¿”å›trueã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// çˆ¶ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SupperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.property = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SupperType.prototype.getSupperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.subProperty = <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹</span></div><div class="line">SubType.prototype = <span class="keyword">new</span> SupperType();</div><div class="line"><span class="comment">// å­ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SubType.prototype.getSubValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subProperty;</div><div class="line">&#125;</div><div class="line"><span class="comment">// åˆ›å»ºå­ç±»çš„å®ä¾‹</span></div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</div><div class="line"></div><div class="line"><span class="comment">// æµ‹è¯•isPrototypeOf()æ–¹æ³•</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(instance)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(SupperType.prototype.isPrototypeOf(instance)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(SubType.prototype.isPrototypeOf(instance)); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h5 id="3-1-2-å®šä¹‰æ–¹æ³•éœ€è°¨æ…"><a href="#3-1-2-å®šä¹‰æ–¹æ³•éœ€è°¨æ…" class="headerlink" title="3.1.2 å®šä¹‰æ–¹æ³•éœ€è°¨æ…"></a>3.1.2 å®šä¹‰æ–¹æ³•éœ€è°¨æ…</h5><p>å­ç±»å¦‚æœæƒ³è¦é‡å†™çˆ¶ç±»ä¸­çš„æŸä¸ªæ–¹æ³•ï¼Œæˆ–æ·»åŠ ä¸å­˜åœ¨çš„æ–¹æ³•ï¼Œéƒ½éœ€è¦åœ¨æ›¿æ¢äº†åŸå‹ä¹‹åã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// çˆ¶ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SupperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.property = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•</span></div><div class="line">SupperType.prototype.getSupperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property;</div><div class="line">&#125;</div><div class="line"><span class="comment">// å­ç±»</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.subProperty = <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å­ç±»åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹(åœ¨è¿™å¥ä¹‹åå®šä¹‰æ–¹æ³•)</span></div><div class="line">SubType.prototype = <span class="keyword">new</span> SupperType();</div><div class="line"></div><div class="line"><span class="comment">// é‡å†™æ–¹æ³•</span></div><div class="line">SubType.prototype.getSupperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"è¢«ä¿®æ”¹äº†ï¼"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// æ·»åŠ æ–°æ–¹æ³•</span></div><div class="line">SubType.prototype.getSubPrototype = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subProperty;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä¸èƒ½ä½¿ç”¨å­—é¢é‡ï¼Œå¦åˆ™ä¼šé‡å†™åŸå‹é“¾ï¼ï¼ï¼</span></div><div class="line">SubType.prototype = &#123;</div><div class="line">    <span class="attr">getSubValue</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">// ...</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">someOtherMethod</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">// ...</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</div><div class="line"><span class="built_in">console</span>.log(instance.getSupperValue()); <span class="comment">// æŠ¥é”™ï¼ï¼å› ä¸ºåŸå‹é“¾å·²ç»è¢«é‡å†™ã€‚</span></div></pre></td></tr></table></figure>
<p>åŸå‹é“¾å­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ul>
<li>1ã€åŸå‹é“¾ä¸Šçš„å¼•ç”¨ç±»å‹ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•ä¸€ä¸ªå®ä¾‹ä¿®æ”¹äº†åŸå‹é“¾ä¸Šçš„å¼•ç”¨ç±»å‹ï¼Œå…¶ä»–å®ä¾‹çš„ä¸Šä¹Ÿä¼šç«‹å³åæ˜ å‡ºæ¥ã€‚</li>
<li>åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘è¶…ç±»æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚å®é™…ä¸Šï¼Œåº”è¯¥æ²¡æœ‰åŠæ³•åœ¨ä¸å½±å“æ‰€æœ‰å®ä¾‹çš„æƒ…å†µä¸‹ï¼Œç»™è¶…ç±»çš„æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œç°å®ä¸­å¾ˆå°‘å•ç‹¬ä½¿ç”¨åŸå‹é“¾ã€‚</p>
<h4 id="3-2-å€ŸåŠ©æ„é€ å‡½æ•°"><a href="#3-2-å€ŸåŠ©æ„é€ å‡½æ•°" class="headerlink" title="3.2 å€ŸåŠ©æ„é€ å‡½æ•°"></a>3.2 å€ŸåŠ©æ„é€ å‡½æ•°</h4><p>ä¸ºäº†è§£å†³åŸå‹ä¸­åŒ…å«å¼•ç”¨ç±»å‹å€¼æ‰€å¸¦æ¥çš„é—®é¢˜ï¼Œå¼€å‘äººå‘˜å¼€å§‹ä½¿ç”¨ä¸€ç§å«åšï¼šå€ŸåŠ©æ„é€ å‡½æ•°çš„æŠ€æœ¯ï¼ˆä¹Ÿå«ä¼ªé€ å¯¹è±¡æˆ–ç»å…¸ç»§æ‰¿ï¼‰ã€‚</p>
<p>è¿™ç§æŠ€æœ¯çš„æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨å­ç±»å‹æ„é€ å‡½æ•°çš„å†…éƒ¨è°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// ç»§æ‰¿äº†SuperType</span></div><div class="line">    SuperType.call(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubType();</div><div class="line">instance1.colors.push(<span class="string">"black"</span>);</div><div class="line"><span class="built_in">console</span>.log(instance1.colors); <span class="comment">// Â ["red", "green", "blue", "black"]</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</div><div class="line"><span class="built_in">console</span>.log(instance2.colors); <span class="comment">// ["red", "green", "blue"]</span></div></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹å¼ï¼Œå€Ÿè°ƒè¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œå®é™…ä¸Šæ˜¯åœ¨æœªæ¥åˆ›å»ºSubTypeå®ä¾‹çš„ç¯å¢ƒä¸‹è°ƒç”¨äº†SuperTypeçš„æ„é€ å‡½æ•°ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æ‹¥æœ‰è‡ªå·±çš„colorså±æ€§å‰¯æœ¬ï¼Œä»è€Œè§£å†³äº†å¼•ç”¨ç±»å‹å…±äº«çš„é—®é¢˜ã€‚</p>
<p>å½“ç„¶ï¼Œä¸Šé¢çš„ä¾‹å­ä¹Ÿå¯ä»¥ä¼ é€’å‚æ•°ï¼Œæ”¹é€ ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="comment">// ç»§æ‰¿äº†SuperType,åŒæ—¶è¿˜ä¼ é€’äº†å‚æ•°</span></div><div class="line">    SuperType.call(<span class="keyword">this</span>,name);</div><div class="line"></div><div class="line">    <span class="comment">// å®ä¾‹å±æ€§</span></div><div class="line">    <span class="keyword">this</span>.age = <span class="number">29</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType(<span class="string">"linlif"</span>);</div><div class="line"><span class="built_in">console</span>.log(instance.name); <span class="comment">// "linlif"</span></div><div class="line"><span class="built_in">console</span>.log(instance.age); <span class="comment">// 29</span></div></pre></td></tr></table></figure>
<p>å€ŸåŠ©æ„é€ å‡½æ•°çš„é—®é¢˜ï¼šæ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ‰€ä»¥å‡½æ•°å¤ç”¨ä¸äº†ã€‚è€Œä¸”ï¼Œåœ¨è¶…ç±»çš„åŸå‹ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œå¯¹äºå­ç±»æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œç»“æœæ‰€æœ‰ç±»å‹éƒ½åªèƒ½ä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼ã€‚æ‰€ä»¥ï¼Œå€ŸåŠ©æ„é€ å‡½æ•°çš„æŠ€æœ¯ä¹Ÿæ˜¯å¾ˆå°‘å•ç‹¬ä½¿ç”¨çš„ã€‚</p>
<h4 id="3-3-ç»„åˆç»§æ‰¿"><a href="#3-3-ç»„åˆç»§æ‰¿" class="headerlink" title="3.3 ç»„åˆç»§æ‰¿"></a>3.3 ç»„åˆç»§æ‰¿</h4><p>ç»„åˆç»§æ‰¿æœ‰æ—¶å€™ä¹Ÿå«ä¼ªç»å…¸ç»§æ‰¿ï¼ŒæŒ‡çš„æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ç»„åˆåˆ°ä¸€å—ï¼Œä»è€Œå‘æŒ¥äºŒè€…ä¹‹é•¿çš„ä¸€ç§ç»§æ‰¿æ¨¡å¼ã€‚</p>
<p>è¿™ç§ç»§æ‰¿çš„æ€è·¯æ˜¯ï¼šä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œè€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚è¿™æ ·ï¼Œæ—¢å®ç°äº†å‡½æ•°çš„å¤ç”¨ï¼Œåˆèƒ½ä¿è¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å±æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>];</div><div class="line">&#125;</div><div class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name, age</span>)</span>&#123;</div><div class="line">    <span class="comment">// ç»§æ‰¿å±æ€§</span></div><div class="line">    SuperType.call(<span class="keyword">this</span>, name);</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">&#125;</div><div class="line"><span class="comment">// ç»§æ‰¿æ–¹æ³•</span></div><div class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</div><div class="line">SubType.prototype.constructor = SubType;</div><div class="line">SubType.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubType(<span class="string">"linlif"</span>,<span class="number">29</span>);</div><div class="line">instance1.colors.push(<span class="string">"black"</span>);</div><div class="line"><span class="built_in">console</span>.log(instance1.colors); <span class="comment">// ["red", "green", "blue", "black"]</span></div><div class="line">instance1.sayName(); <span class="comment">// "linlif"</span></div><div class="line">instance1.sayAge(); <span class="comment">// 29</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType(<span class="string">"Jack"</span>,<span class="number">24</span>);</div><div class="line"><span class="built_in">console</span>.log(instance2.colors); <span class="comment">// ["red", "green", "blue"]</span></div><div class="line">instance2.sayName(); <span class="comment">// "Jack"</span></div><div class="line">instance2.sayAge(); <span class="comment">// 24</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(instance1 <span class="keyword">instanceof</span> SubType); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(instance1 <span class="keyword">instanceof</span> SuperType); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(instance1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(SubType.prototype.isPrototypeOf(instance1)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(SuperType.prototype.isPrototypeOf(instance1)); <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(instance1)); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œinstanc1å’Œinstance2ä¸ä»…æ‹¥æœ‰è‡ªå·±å•ç‹¬çš„å¼•ç”¨ç±»å‹å±æ€§colorsï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚</p>
<p>ç»„åˆç»§æ‰¿é¿å…äº†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°çš„ç¼ºé™·ï¼Œèåˆäº†å®ƒä»¬çš„ä¼˜ç‚¹ï¼Œæˆä¸ºJavaScriptä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚è€Œä¸”ï¼Œå¯ä»¥ä½¿ç”¨instanceofå’ŒisPrototypeOf()è¯†åˆ«åŸºäºç»„åˆç»§æ‰¿åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<h4 id="3-4-åŸå‹å¼ç»§æ‰¿"><a href="#3-4-åŸå‹å¼ç»§æ‰¿" class="headerlink" title="3.4 åŸå‹å¼ç»§æ‰¿"></a>3.4 åŸå‹å¼ç»§æ‰¿</h4><blockquote>
<p>é“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦å¾·åœ¨2006å¹´å†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œé¢˜ç›®ä¸ºPrototypal Inheritance in JavaScriptï¼ˆJavaScriptä¸­åŸå‹å¼ç»§æ‰¿ï¼‰ã€‚</p>
</blockquote>
<p>æ–‡ç« ä¸­ä»‹ç»äº†ä¸€ç§å®ç°ç»§æ‰¿çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•å¹¶æ²¡æœ‰ä¸¥æ ¼æ„ä¹‰ä¸Šçš„æ„é€ å‡½æ•°ã€‚ä»–çš„æƒ³æ³•æ˜¯å€ŸåŠ©åŸå‹å¯ä»¥åŸºäºå·²æœ‰çš„å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŒæ—¶è¿˜ä¸å¿…å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œä»–ç»™å‡ºäº†ä»¥ä¸‹å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">    F.prototype = o;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æœ¬è´¨ä¸Šè®²ï¼Œobject()å¯¹ä¼ å…¥çš„å¯¹è±¡æ‰§è¡Œäº†ä¸€æ¬¡æµ…å¤åˆ¶ã€‚æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">    F.prototype = o;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">friends</span>:[<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = object(person);</div><div class="line">person1.name = <span class="string">"Fred"</span>;</div><div class="line">person1.friends.push(<span class="string">"d"</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> person2 = object(person);</div><div class="line">person1.name = <span class="string">"Jack"</span>;</div><div class="line">person1.friends.push(<span class="string">"e"</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(person.friends); <span class="comment">// ["a", "b", "c", "d", "e"]</span></div></pre></td></tr></table></figure>
<p>ECMAScript 5é€šè¿‡æ–°å¢çš„Object.create()æ–¹æ³•è§„èŒƒåŒ–äº†åŸå‹å¼ç»§æ‰¿ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç”¨ä½œæ–°å¯¹è±¡åŸå‹çš„å¯¹è±¡å’Œä¸€ä¸ªä¸ºæ–°å¯¹è±¡å®šä¹‰é¢å¤–å±æ€§çš„å¯¹è±¡ï¼ˆå¯é€‰ï¼‰ã€‚åœ¨ä¼ å…¥ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œä½œç”¨ä¸object()æ–¹æ³•çš„è¡Œä¸ºç›¸åŒã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°çš„ç”¨æ³•ï¼Œä¸Object.defineProperties()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ ¼å¼ç›¸åŒï¼šæ¯ä¸ªå±æ€§éƒ½æ˜¯é€šè¿‡è‡ªå·±çš„æè¿°ç¬¦å®šä¹‰çš„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">friends</span>:[<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person1 = <span class="built_in">Object</span>.create(person,&#123;</div><div class="line">    <span class="attr">name</span>:&#123;</div><div class="line">        <span class="attr">value</span>:<span class="string">"Jack"</span></div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">//"Jack"</span></div></pre></td></tr></table></figure>
<p>æ”¯æŒObject.create()æ–¹æ³•çš„æµè§ˆå™¨æœ‰IE 9+ã€Firefox 4+ã€Safari 5+ã€Opera 12+å’ŒChromeã€‚</p>
<p>å¦‚æœåªæ˜¯æƒ³è®©ä¸€ä¸ªå¯¹è±¡ä¸å¦ä¸€ä¸ªå¯¹è±¡ä¿æŒç±»ä¼¼ï¼ŒåŸå‹å¼ç»§æ‰¿å®Œå…¨å¯ä»¥èƒœä»»ã€‚ä¸è¿‡è¦æ³¨æ„ï¼šå¼•ç”¨ç±»å‹çš„å±æ€§å§‹ç»ˆä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œå°±åƒä½¿ç”¨åŸå‹æ¨¡å¼ä¸€æ ·ã€‚</p>
<h4 id="3-5-å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#3-5-å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="3.5 å¯„ç”Ÿå¼ç»§æ‰¿"></a>3.5 å¯„ç”Ÿå¼ç»§æ‰¿</h4><p>å¯„ç”Ÿå¼ç»§æ‰¿ä¸åŸå‹ç»§æ‰¿æ€è·¯å·®ä¸å¤šï¼Œä¹Ÿæ˜¯æœ‰å…‹ç½—å…‹ç¦å¾·æ¨å¹¿çš„ã€‚ä¸‹é¢ä»£ç ç¤ºèŒƒäº†è¿™ç§ç»§æ‰¿æ¨¡å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">    F.prototype = o;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnother</span>(<span class="params">original</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> clone = object(original); <span class="comment">// é€šè¿‡è°ƒç”¨objectåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</span></div><div class="line">    clone.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"hi"</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> clone;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">"linlif"</span>,</div><div class="line">    <span class="attr">friends</span>:[<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> anotherPerson = createAnother(person);</div><div class="line">anotherPerson.sayHi(); <span class="comment">// "hi"</span></div></pre></td></tr></table></figure>
<p>å¯„ç”Ÿæ¨¡å¼é€‚ç”¨äºï¼Œä¸»è¦è€ƒè™‘å¯¹è±¡è€Œä¸æ˜¯è‡ªå®šä¹‰ç±»å‹å’Œæ„é€ å‡½æ•°çš„æƒ…å†µã€‚ä¾‹å­ä¸­ä½¿ç”¨çš„object()å‡½æ•°ä¸æ˜¯å¿…é¡»çš„ï¼Œä»»ä½•å¯ä»¥è¿”å›æ–°å¯¹è±¡çš„å‡½æ•°éƒ½é€‚ç”¨äºæ­¤æ¨¡å¼ã€‚</p>
<h4 id="3-6-å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#3-6-å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="3.6 å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>3.6 å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h4><p>å‰é¢è¯´è¿‡ï¼Œç»„åˆç»§æ‰¿æ˜¯JavaScriptæœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚ä½†æ˜¯å®ƒä¹Ÿæœ‰ä¸è¶³ï¼Œç»„åˆç»§æ‰¿æœ€å¤§çš„é—®é¢˜å°±æ˜¯ï¼Œæ— è®ºä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½ä¼šè°ƒç”¨ä¸¤æ¬¡è¶…ç±»å‹æ„é€ å‡½æ•°ï¼šä¸€æ¬¡æ˜¯åˆ›å»ºå­ç±»å‹åŸå‹çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»å‹æ„é€ å‡½æ•°å†…éƒ¨ã€‚ä¸€èµ·çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>];</div><div class="line">&#125;;</div><div class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.nam);</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name,age</span>)</span>&#123;</div><div class="line">    SuperType.call(<span class="keyword">this</span>, name); <span class="comment">// ç¬¬äºŒæ¬¡è°ƒç”¨SuperType()</span></div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">SubType.prototype = <span class="keyword">new</span> SuperType(); <span class="comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType()</span></div><div class="line">SubType.prototype.constructor = SubType;</div><div class="line">SubType.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç”±äºè°ƒç”¨äº†ä¸¤æ¬¡SuperTypeæ„é€ å‡½æ•°ï¼Œæ‰€ä»¥å­˜åœ¨ä¸¤ç»„nameå’Œcolorså±æ€§ï¼šä¸€ç»„åœ¨å®ä¾‹ä¸Šï¼Œä¸€ç»„åœ¨SubTypeåŸå‹ä¸Šã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œåœ¨åŸå‹ä¸Šï¼Œç¬¬äºŒæ¬¡è°ƒç”¨åœ¨å®ä¾‹ä¸Šã€‚åªä¸è¿‡ç¬¬äºŒæ¬¡è°ƒç”¨ä¼šå±è”½åŸå‹ä¸­ä¸¤ä¸ªåŒåçš„å±æ€§ã€‚å…·ä½“çœ‹ä¸‹å›¾ï¼š</p>
<p><img src="https://lh3.googleusercontent.com/-DYGpENQTcPY/WuLqxe2JeNI/AAAAAAAAAF0/cBiooJFDE4Ao0bkEsqi09-hMtVwq21hRQCHMYCw/I/%255BUNSET%255D" alt="ç»„åˆç»§æ‰¿"></p>
<p>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§ï¼Œé€šè¿‡åŸå‹é“¾çš„æ··ç”¨å½¢å¼æ¥ç»§æ‰¿æ–¹æ³•ã€‚å…¶èƒŒåçš„æ€è·¯æ˜¯ï¼šä¸å¿…ä¸ºäº†æŒ‡å®šå­ç±»å‹çš„åŸå‹è€Œè°ƒç”¨è¶…ç±»çš„æ„é€ æ–¹æ³•ï¼Œæˆ‘ä»¬æ— éè¦çš„å°±æ˜¯è¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬è€Œå·²ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿è¶…ç±»å‹çš„åŸå‹ï¼Œç„¶åå°†ç»“æœæŒ‡å®šç»™æŒ‡å®šå­ç±»å‹çš„åŸå‹ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">    F.prototype = o;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritPrototype</span>(<span class="params">subType, superType</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> prototype = object(superType.prototype); <span class="comment">// åˆ›å»ºå¯¹è±¡</span></div><div class="line">    prototype.constructor = subType; <span class="comment">// å¢å¼ºå¯¹è±¡</span></div><div class="line">    subType.prototype = prototype; <span class="comment">// æŒ‡å®šå¯¹è±¡</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä¾‹å­å®ç°äº†æœ€ç®€å•çš„å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå­ç±»å‹æ„é€ å‡½æ•°å’Œè¶…ç±»å‹æ„é€ å‡½æ•°ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºè¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ç¬¬äºŒæ­¥æ˜¯ä¸ºåˆ›å»ºçš„å‰¯æœ¬æ·»åŠ constructorå±æ€§ï¼Œä»è€Œå¼¥è¡¥å› ä¸ºé‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤constructorå±æ€§ã€‚æœ€åä¸€æ­¥ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡ï¼ˆå³å‰¯æœ¬ï¼‰èµ‹å€¼ç»™å­ç±»å‹çš„åŸå‹ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨inheritPrototype()å‡½æ•°ï¼Œå»æ›¿æ¢å‰é¢ä¾‹å­ä¸­ä¸ºäº†å­ç±»å‹åŸå‹èµ‹å€¼çš„è¯­å¥äº†ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>];</div><div class="line">&#125;;</div><div class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.nam);</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name,age</span>)</span>&#123;</div><div class="line">    SuperType.call(<span class="keyword">this</span>, name); <span class="comment">// ç¬¬äºŒæ¬¡è°ƒç”¨SuperType()</span></div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨inheritPrototype()å‡½æ•°</span></div><div class="line">inheritPrototype(SubType, SuperType);</div><div class="line"></div><div class="line">SubType.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­çš„é«˜æ•ˆç‡ä½“ç°åœ¨å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡SuperTypeæ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†å†SubType.prototypeä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼Œå› æ­¤è¿˜èƒ½æ­£å¸¸ä½¿ç”¨instanceofå’ŒisPrototypeOf()ã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºï¼Œå¯„ç”Ÿå¼ç»„åˆç»§æ‰¿æ—¶å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚   </p>
<p>è‡³æ­¤ï¼ŒJavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹å‘Šä¸€æ®µè½ï¼Œæ­¤æ–‡æœ‰äº›åœ°æ–¹ä¸å®¹æ˜“ç†è§£ï¼Œéœ€è¦ä»”ç»†ç ”è¯»ã€‚</p>
<p>çœ‹ä¸æ‡‚æˆ–çœ‹ä¸å®Œï¼Œå¯ä»¥å…ˆæ”¶è—å•Šã€‚è€è§„çŸ©ï¼Œè½¬è½½è¯·è‘—åå‡ºå¤„ï¼Œè°¢è°¢ï¼</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/jsåŸºç¡€/" rel="tag"># jsåŸºç¡€</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/25/JavaScript-å¼•ç”¨ç±»å‹/" rel="next" title="JavaScriptå¼•ç”¨ç±»å‹">
                <i class="fa fa-chevron-left"></i> JavaScriptå¼•ç”¨ç±»å‹
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="linlif" />
          <p class="site-author-name" itemprop="name">linlif</p>
           
              <p class="site-description motion-element" itemprop="description">ç§¯ç´¯çŸ¥è¯†ï¼Œè®°å½•ç‚¹æ»´ï¼</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/linlif" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/58cadd85c47b" target="_blank" title="ç®€ä¹¦">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  ç®€ä¹¦
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-ç†è§£å¯¹è±¡"><span class="nav-text">1. ç†è§£å¯¹è±¡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-å±æ€§ç±»å‹"><span class="nav-text">1.1 å±æ€§ç±»å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-1-æ•°æ®å±æ€§"><span class="nav-text">1.1.1 æ•°æ®å±æ€§</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-2-è®¿é—®å…¶å±æ€§"><span class="nav-text">1.1.2 è®¿é—®å…¶å±æ€§</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-3-å®šä¹‰å¤šä¸ªå±æ€§"><span class="nav-text">1.1.3 å®šä¹‰å¤šä¸ªå±æ€§</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-4-è¯»å–å±æ€§çš„ç‰¹æ€§"><span class="nav-text">1.1.4 è¯»å–å±æ€§çš„ç‰¹æ€§</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-åˆ›å»ºå¯¹è±¡"><span class="nav-text">2. åˆ›å»ºå¯¹è±¡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-å·¥å‚æ¨¡å¼"><span class="nav-text">2.1 å·¥å‚æ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-æ„é€ å‡½æ•°æ¨¡å¼"><span class="nav-text">2.2 æ„é€ å‡½æ•°æ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-åŸå‹æ¨¡å¼"><span class="nav-text">2.3 åŸå‹æ¨¡å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-1-ç†è§£åŸå‹å¯¹è±¡"><span class="nav-text">2.3.1 ç†è§£åŸå‹å¯¹è±¡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-2-isPrototypeOf-æ–¹æ³•"><span class="nav-text">2.3.2 isPrototypeOf()æ–¹æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-3-Object-getPrototypeOf-æ–¹æ³•"><span class="nav-text">2.3.3 Object.getPrototypeOf()æ–¹æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-4-hasOwnProperty-æ–¹æ³•"><span class="nav-text">2.3.4 hasOwnProperty()æ–¹æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-5-åŸå‹ä¸inæ“ä½œç¬¦"><span class="nav-text">2.3.5 åŸå‹ä¸inæ“ä½œç¬¦</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-6-Object-keys-æ–¹æ³•"><span class="nav-text">2.3.6 Object.keys()æ–¹æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-7-Object-getOwnPropertyNames-æ–¹æ³•"><span class="nav-text">2.3.7 Object.getOwnPropertyNames()æ–¹æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-8-æ›´ç®€å•çš„åŸå‹è¯­æ³•"><span class="nav-text">2.3.8 æ›´ç®€å•çš„åŸå‹è¯­æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-9-åŸå‹çš„åŠ¨æ€æ€§"><span class="nav-text">2.3.9 åŸå‹çš„åŠ¨æ€æ€§</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼"><span class="nav-text">2.4 ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-åŠ¨æ€åŸå‹æ¨¡å¼"><span class="nav-text">2.5 åŠ¨æ€åŸå‹æ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-6-å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼"><span class="nav-text">2.6 å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-7-ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼"><span class="nav-text">2.7 ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ç»§æ‰¿"><span class="nav-text">3. ç»§æ‰¿</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-åŸå‹é“¾"><span class="nav-text">3.1 åŸå‹é“¾</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-1-ç¡®å®šåŸå‹ä¸å®ä¾‹çš„å…³ç³»"><span class="nav-text">3.1.1 ç¡®å®šåŸå‹ä¸å®ä¾‹çš„å…³ç³»</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-2-å®šä¹‰æ–¹æ³•éœ€è°¨æ…"><span class="nav-text">3.1.2 å®šä¹‰æ–¹æ³•éœ€è°¨æ…</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-å€ŸåŠ©æ„é€ å‡½æ•°"><span class="nav-text">3.2 å€ŸåŠ©æ„é€ å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-ç»„åˆç»§æ‰¿"><span class="nav-text">3.3 ç»„åˆç»§æ‰¿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-åŸå‹å¼ç»§æ‰¿"><span class="nav-text">3.4 åŸå‹å¼ç»§æ‰¿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-å¯„ç”Ÿå¼ç»§æ‰¿"><span class="nav-text">3.5 å¯„ç”Ÿå¼ç»§æ‰¿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><span class="nav-text">3.6 å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">linlif</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

</body>
</html>
